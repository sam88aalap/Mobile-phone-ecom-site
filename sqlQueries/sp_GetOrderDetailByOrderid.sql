/****@Version:1.0**@Date:07/04/2022**@Dev:68186**//**If the sp exist then we delete it **/IF EXISTS(	SELECT 1 FROM sys.objects WHERE type='P' AND OBJECT_ID=OBJECT_ID('[dbo].[sp_GetOrderDetailByOrderid]'))BEGIN	DROP PROCEDURE [dbo].[sp_GetOrderDetailByOrderid]ENDGOCREATE PROC [dbo].[sp_GetOrderDetailByOrderid]	@orderId INTASBEGIN	IF NOT EXISTS(		SELECT 1 FROM dbo.orderd AS o WITH(NOLOCK)			WHERE o.orderid=@orderId	)	BEGIN		THROW 600002,'No such order exist',18	END	SELECT 		o.orderid,o.orderdate,		c.customerid,c.customername,		p.productname,p.price,		oi.qty,(p.price*oi.qty) Amount	FROM dbo.orderd AS o WITH(NOLOCK)		INNER JOIN dbo.orderitem AS oi WITH(NOLOCK)			ON o.orderid=oi.orderid		INNER JOIN dbo.product AS p WITH(NOLOCK)			ON p.pid=oi.pid			AND p.isDeleted=0		INNER JOIN dbo.customer AS c WITH(NOLOCK)			ON c.customerid=o.customerid		WHERE o.orderid=@orderId;	ENDGO